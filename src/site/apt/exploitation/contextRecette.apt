 -----
 SIRH
 -----
 Noémie NICOLAS
 -----
  22/01/2013
  
 * Fichier context en RECETTE présent sur le serveur tomcat (Resources JNDI pour connexion à la base Oracle et la base AS400)
	
+------------------------------------------+
		
<Resource name="jdbc/SIRH_JOBS_DS1" auth="Container" type="javax.sql.DataSource"
		maxActive="100" maxIdle="30" minIdle="0" validationQuery="select 1"
		maxWait="10000" initialSize="1" username="***REMOVED***" password="xxxx"
		driverClassName="org.postgresql.Driver" url="***REMOVED***"
		poolPreparedStatements="true" />

<Resource name="jdbc/SIRH_JOBS_DS2" auth="Container" type="javax.sql.DataSource"
	factory="org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory"
	testWhileIdle="true" testOnBorrow="true" testOnReturn="false"
	validationQuery="select 1 from sysdummy1" validationInterval="30000"
	timeBetweenEvictionRunsMillis="30000" maxActive="300" maxIdle="30"
	maxWait="30000" initialSize="10" removeAbandonedTimeout="500"
	removeAbandoned="true" logAbandoned="true" minEvictableIdleTimeMillis="30000"
	jmxEnabled="true" username="***REMOVED***" password="xxxx"
	driverClassName="com.ibm.as400.access.AS400JDBCDriver" 
	url="***REMOVED***;" />

<Resource name="jdbc/SIRH_JOBS_DS3" auth="Container" type="javax.sql.DataSource" 
	maxActive="100" maxIdle="30" minIdle="0" validationQuery="select 1 from dual" 
	maxWait="10000" initialSize="1" username="***REMOVED***" password="xxxx" 
	driverClassName="oracle.jdbc.driver.OracleDriver" 
	url="jdbc:oracle:thin:@***REMOVED***:1521:SIRHR" poolPreparedStatements="true" />

<Resource name="jdbc/SIRH_JOBS_DS4" auth="Container" type="javax.sql.DataSource"
		maxActive="100" maxIdle="30" minIdle="0" validationQuery="select 1"
		maxWait="10000" initialSize="1" username="***REMOVED***" password="xxxx"
		driverClassName="org.postgresql.Driver" url="***REMOVED***"
		poolPreparedStatements="true" />

<Resource name="jdbc/SIRH_JOBS_DS5" auth="Container" type="javax.sql.DataSource"
		maxActive="100" maxIdle="30" minIdle="0" validationQuery="select 1"
		maxWait="10000" initialSize="1" username="***REMOVED***" password="xxxx"
		driverClassName="org.postgresql.Driver" url="***REMOVED***"
		poolPreparedStatements="true" />

	<Resource name="mail/MailServer" auth="Container"
   type="javax.mail.Session"
   mail.debug="false"
   mail.user="SIRH EAEs"
   mail.from="noreply@ville-noumea.nc"
   mail.transport.protocol="smtp"
   mail.smtp.host= "smtp"
   mail.smtp.auth= "false"
   mail.smtp.port= "25"
   mail.smtp.starttls.enable="false"
   description="Global E-Mail Resource"
   />

<Environment name="eaeCampagneActionNotificationsJob.numberOfTentatives" type="java.lang.Integer"
	description="Maximum number of tentatives of retry on errors before giving up sending notifications" 
	value="3"
	override="false" />

<Environment name="eaeCampagneActionNotificationsJob.baseSirhDocumentsUrl" type="java.lang.String"
	description="The Commons-vfs2 compatible root path where SIRH documents are being stored" 
	value="file:///mnt/sirh-document/Document_Associe"
	override="false" />

<Environment name="ad/connectionURL" type="java.lang.String"
	description="Url of the LDAP server" 
	value="ldap://hurle.site-mairie.noumea.nc:389"
	override="false" />
<Environment name="ad/connectionURL2" type="java.lang.String"
	description="Url of the LDAP server#2" 
	value="ldap://gberge.site-mairie.noumea.nc:389"
	override="false" />
<Environment name="ad/connectionURL3" type="java.lang.String"
	description="Url of the LDAP server#3" 
	value="ldap://netone.site-mairie.noumea.nc:389"
	override="false" />

<Environment name="ad/userBase" type="java.lang.String"
	description="Read-only user Dn for SIRH jobs application" 
	value="cn={SIE VALUE},ou=was,ou=appli,ou=z-users,dc=site-mairie,dc=noumea,dc=nc"
	override="false" />

<Environment name="ad/userPassword" type="java.lang.String"
	description="Password for the above defined ldap user" 
	value="{SIE VALUE}"
	override="false" />

<Environment name="ad/baseDn" type="java.lang.String"
	description="base directory for querying ldap" 
	value="dc=site-mairie,dc=noumea,dc=nc"
	override="false" />

<Environment name="ad/userOu" type="java.lang.String"
	description="user directory (OU) for querying with matricule number" 
	value="z-users"
	override="false" />
	
<!-- Reporting service -->
<Environment name="REPORTING_SERVER_SIRH_REPORT_PATH" type="java.lang.String"
	description="SIRH reports path on Birt" value="report/sirh-reports/"
	override="false" />
<Environment name="REPORTING_BASE_URL" type="java.lang.String"
	description="BIRT report viewer base URL for reporting" value="http://birt-qual.site-mairie.noumea.nc/"
	override="false" />

<!-- SIRH AVCT printing job -->
<Environment name="AVCT_JOB_TEMP_DIR" type="java.lang.String"
	description="Temp directory for SIRH avancements printing job" 
	value="/path/to/avct/temp/folder"
	override="false" />
<Environment name="AVCT_SIRH_WS_AVCT_EAE_URL" type="java.lang.String"
	description="SIRH WS endpoint url for EAEs" 
	value="http://ws-qual.sirh.site-mairie.noumea.nc/sirhws/avancements/getEaesGedIds"
	override="false" />
<Environment name="AVCT_CUPS_SERVER_HOSTNAME" type="java.lang.String"
	description="CUPS printing server hostname" 
	value="***REMOVED***"
	override="false" />
<Environment name="AVCT_CUPS_SERVER_PORT" type="java.lang.Integer"
	description="CUPS printing server port" 
	value="631"
	override="false" />
<Environment name="AVCT_CUPS_SIRH_PRINTER_NAME" type="java.lang.String"
	description="CUPS SIRH printer name" 
	value="COP120"
	override="false" />
<Environment name="AVCT_URL_SHAREPOINT_GED" type="java.lang.String"
	 description="URL WS Sharepoint for retrieving EAE doc names from unique ID" 
	 value="***REMOVED***"
	 override="false" />
<Environment name="AVCT_GED_WEBDAV_USER" type="java.lang.String"
	 description="GED Sharepoint webdav user" 
	 value="***REMOVED***"
	 override="false" />
<Environment name="AVCT_GED_WEBDAV_PWD" type="java.lang.String"
	 description="GED Sharepoint webdav pwd" 
	 value="password"
	 override="false" />
	 
	<!-- POUR LA CONNEXION NTLM -->
<Environment description="User pour connexion NTLM à Sharepoint" name="USER_SHAREPOINT_WEBDAV_EAE" type="java.lang.String"
	override="false"
	value="***REMOVED***" />
<Environment description="User Pws pour connexion NTLM à Sharepoint" name="USER_PWD_SHAREPOINT_WEBDAV_EAE" type="java.lang.String"
	override="false"
	value="PWD DU USER" />
<Environment description="Domain pour connexion NTLM à Sharepoint" name="DOMAIN_SHAREPOINT_WEBDAV_EAE" type="java.lang.String"
	override="false"
	value="SITE-MAIRIE" />
<Environment description="URL pour connexion NTLM à Sharepoint" name="URL_SHAREPOINT_WEBDAV_EAE" type="java.lang.String"
	override="false"
	value="***REMOVED***" />
<Environment description="PORT pour connexion NTLM à Sharepoint" name="PORT_SHAREPOINT_WEBDAV_EAE" type="java.lang.String"
	override="false"
	value="80" />	 

<!-- SIRH AVCT DELETE DOCS JOB -->
<Environment name="AVCT_SIRH_PAST_DOCS_THRESHOLD_MS" type="java.lang.Long"
	 description="Number of milliseconds to subtract from DateTime.Now() to qualify a document for deletion (ex. 21600000 = to remove docs that have been modified more than 6 hours ago)" 
	 value="21600000"
	 override="false" />

<!-- SIRH PTG Ventilation job -->
<Environment name="SIRH_PTG_WS_VENTILATION_TASK_URL" type="java.lang.String"
	description="sirh-ptg-ws Url endpoint for ventilating a Task" value="ventilation/processTask?idVentilTask="
	override="false" />

<!-- SIRH PTG Export Paie job -->
<Environment name="SIRH_PTG_WS_EXPORT_TASK_URL" type="java.lang.String"
	description="sirh-ptg-ws Url endpoint for exporting a Task" value="exportPaie/processTask?idExportPaieTask="
	override="false" />
<Environment name="SIRH_PTG_WS_EXPORT_DONE_URL" type="java.lang.String"
	description="sirh-ptg-ws Url endpoint for notifying the export process is done (no more tasks)" value="exportPaie/stop?typeChainePaie="
	override="false" />

<!-- SIRH PTG Export Etats Payeur job -->
<Environment name="SIRH_PTG_WS_ETATS_PAYEUR_TASK_URL" type="java.lang.String"
	description="sirh-ptg-ws Url endpoint for exporting an EtatsPayeur Task" value="etatsPayeur/startExportTask?idExportEtatsPayeurTask="
	override="false" />
<Environment name="SIRH_PTG_WS_ETATS_PAYEUR_DONE_URL" type="java.lang.String"
	description="sirh-ptg-ws Url endpoint for notifying the EtatsPayeur process is done (no more tasks)" value="etatsPayeur/finishExportTask?idExportEtatsPayeurTask="
	override="false" />
<Environment name="SIRH_PTG_WS_ETATS_PAYEUR_DONE_STOP_URL" type="java.lang.String"
    description="sirh-ptg-ws Url endpoint for stopping the EtatsPayeur process" 
    value="etatsPayeur/stop?typeChainePaie="
    override="false" />
<Environment name="SIRH_PTG_WS_ETAT_POINTAGE_URL" type="java.lang.String"
		description="sirh-ptg-ws Url endpoint for an EtatsPayeur Task" value="etatPointage/majEtatPointagesByListId"
		override="false" />
        
<!-- ReposComp Job service parameters -->
<Environment name="SIRH_PTG_WS_BASE_URL" type="java.lang.String"
    description="sirh-ptg-ws base Url endpoint" value="http://ws-qual.sirh.site-mairie.noumea.nc/sirh-ptg-ws/"
    override="false" />
<Environment name="SIRH_PTG_WS_RC_TASK_URL_PART" type="java.lang.String"
    description="sirh-ptg-ws base Url endpoint" value="reposcomp/startReposCompTask?idReposCompTask="
    override="false" />
		
<!--Job demande prises  -->
<Environment name="SIRH_ABS_WS_BASE_URL" type="java.lang.String"
	description="sirh-abs-ws base Url endpoint" value="http://ws-qual.sirh.site-mairie.noumea.nc/sirh-abs-ws/"
	override="false" />
		
<!--Job maj des demandes à l'état PRIS -->
<Environment name="SIRH_ABS_WS_ETAT_ABSENCE_URL" type="java.lang.String"
    description="sirh-abs-ws Url endpoint for an Etat Pris Task" value="demandes/updateToEtatPris"
    override="false" />

<!--Job envoie emails infos Absences -->
<Environment name="SIRH_ABS_WS_EMAIL_INFO_URL" type="java.lang.String"
	description="sirh-abs-ws Url endpoint for email information absence" value="email/listDestinatairesEmailInfo"
	override="false" />
<Environment name="emailInformationJob.numberOfTentatives"
	type="java.lang.Integer"
	description="Maximum number of tentatives of retry on errors before giving up sending email information"
	value="3" override="false" />

<!-- Job Remise A Zero Compteur Repos Comp. -->
<Environment name="SIRH_ABS_WS_LISTE_COMPTEUR_ANNEE_PRCDT_URL" type="java.lang.String" 
	description="sirh-abs-ws Url endpoint for previous year counter list" value="reposcomps/getListeCompteurAnneePrecedente" 
	override="false" />
<Environment name="SIRH_ABS_WS_RESET_COMPTEUR_ANNEE_PRCDT_URL" type="java.lang.String" 
	description="sirh-abs-ws Url endpoint for reset previous year counter" value="reposcomps/resetCompteurAnneePrecedente" 
	override="false" />
<Environment name="SIRH_ABS_WS_LISTE_COMPTEUR_ANNEE_EN_COURS_URL" type="java.lang.String" 
	description="sirh-abs-ws Url endpoint for current year counter list" value="reposcomps/getListeCompteurAnneeEnCours" 
	override="false" />
<Environment name="SIRH_ABS_WS_RESET_COMPTEUR_ANNEE_EN_COURS_URL" type="java.lang.String" 
	description="sirh-abs-ws Url endpoint for reset current year counter" value="reposcomps/resetCompteurAnneenCours" 
	override="false" />

<!--Job suppression demandes provisoires  -->
<Environment name="SIRH_ABS_WS_SUPP_ABSENCE_URL" type="java.lang.String"
	description="sirh-abs-ws Url endpoint for an absence suppression Task" value="demandes/supprimerDemandeProvisoire"
	override="false" />
    
<!-- Redmine Logger info -->
<Environment name="SIRH_JOBS_REDMINE_API_KEY" type="java.lang.String"
    description="Redmine authentication api key"
    value="a-remplir-avec-api-key-redmine" override="false" />

<Environment name="SIRH_JOBS_REDMINE_API_URL" type="java.lang.String"
    description="Redmine base URL"
    value="https://redmine.ville-noumea.nc" override="false" />

<Environment name="SIRH_JOBS_REDMINE_PROJECT_KEY" type="java.lang.String"
    description="Redmine SIRH-JOBS project key"
    value="sirh-job" override="false" />

<Environment name="SIRH_JOBS_REDMINE_ENV" type="java.lang.String"
    description="SIRH-JOBS environment description for Incidents creation in Redmine"
    value="DEV" override="false" />
    
<Environment name="SIRH_JOBS_REDMINE_INCIDENT_TRACKER_NAME"
    type="java.lang.String" description="Redmine SIRH-JOBS project tracker name for Incidents"
    value="Incident" override="false" />

<Environment name="SIRH_JOBS_REDMINE_CF_ENV_FIELD_ID" type="java.lang.Integer"
    description="Redmine SIRH-JOBS project custom field id for environment"
    value="12" override="false" />

<Environment name="SIRH_JOBS_REDMINE_CF_ENV_FIELD_NAME"
    type="java.lang.String" description="Redmine SIRH-JOBS project custom field name for environment"
    value="environnement" override="false" />

<Environment name="SIRH_JOBS_REDMINE_CF_JOBNAME_FIELD_ID"
    type="java.lang.Integer" description="Redmine SIRH-JOBS project custom field id for jobName"
    value="13" override="false" />

<Environment name="SIRH_JOBS_REDMINE_CF_JOBNAME_FIELD_NAME"
    type="java.lang.String" description="Redmine SIRH-JOBS project custom field name for jobName"
    value="jobname" override="false" />
+------------------------------------------+	